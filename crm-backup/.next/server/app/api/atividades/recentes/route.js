"use strict";(()=>{var e={};e.id=2018,e.ids=[2018],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9333:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>p});var a={};t.r(a),t.d(a,{GET:()=>d});var o=t(9303),i=t(8716),n=t(670),s=t(7070);async function d(e){try{let r=await Object(function(){var e=Error("Cannot find module '@/lib/middleware/auth'");throw e.code="MODULE_NOT_FOUND",e}())(e);if(r.error)return s.NextResponse.json({error:r.error},{status:r.status});let{user:t}=r,a=(await Object(function(){var e=Error("Cannot find module '@/lib/firebase/admin'");throw e.code="MODULE_NOT_FOUND",e}()).atividades().where("userId","==",t.id).orderBy("criadoEm","desc").limit(10).get()).docs.map(e=>{let r=Object(function(){var e=Error("Cannot find module '@/lib/firebase/admin'");throw e.code="MODULE_NOT_FOUND",e}())(e),t=new Date,a=new Date(r.criadoEm),o=t-a,i=Math.floor(o/6e4),n=Math.floor(o/36e5),s=Math.floor(o/864e5);return i<1?r.tempo="Agora":i<60?r.tempo=`${i} min atr\xe1s`:n<24?r.tempo=`${n} hora${n>1?"s":""} atr\xe1s`:r.tempo=`${s} dia${s>1?"s":""} atr\xe1s`,r});return s.NextResponse.json({success:!0,atividades:a})}catch(e){return console.error("Erro ao buscar atividades recentes:",e),s.NextResponse.json({error:"Erro ao buscar atividades recentes"},{status:500})}}(function(){var e=Error("Cannot find module '@/lib/middleware/auth'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/lib/firebase/admin'");throw e.code="MODULE_NOT_FOUND",e}();let u=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/atividades/recentes/route",pathname:"/api/atividades/recentes",filename:"route",bundlePath:"app/api/atividades/recentes/route"},resolvedPagePath:"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\api\\atividades\\recentes\\route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:l}=u,m="/api/atividades/recentes/route";function f(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:p})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,5972],()=>t(9333));module.exports=a})();