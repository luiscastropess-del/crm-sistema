(()=>{var e={};e.id=9922,e.ids=[9922],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4161:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>n}),a(7119),a(3477),a(7764),a(5866);var t=a(3191),r=a(8716),l=a(7922),i=a.n(l),o=a(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);a.d(s,d);let n=["",{children:["dashboard",{children:["exportar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7119)),"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\dashboard\\exportar\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3477)),"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\dashboard\\layout.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,7764)),"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\dashboard\\exportar\\page.js"],x="/dashboard/exportar/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/exportar/page",pathname:"/dashboard/exportar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},1927:(e,s,a)=>{Promise.resolve().then(a.bind(a,1361))},5016:(e,s,a)=>{Promise.resolve().then(a.bind(a,685))},5453:()=>{},3603:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},1361:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(326),r=a(7577),l=a(5047),i=a(434);function o(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)("clientes"),[o,d]=(0,r.useState)("csv"),[n,c]=(0,r.useState)({dataInicio:"",dataFim:"",status:"todos",incluirInativos:!1}),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)({tipo:"",texto:""}),[p,g]=(0,r.useState)([]),b=[{valor:"clientes",label:"\uD83D\uDC65 Clientes",descricao:"Exportar lista de clientes"},{valor:"leads",label:"\uD83C\uDFAF Leads",descricao:"Exportar lista de leads"},{valor:"vendas",label:"\uD83D\uDCB0 Vendas",descricao:"Exportar hist\xf3rico de vendas"},{valor:"tarefas",label:"✅ Tarefas",descricao:"Exportar lista de tarefas"},{valor:"atividades",label:"\uD83D\uDCCB Atividades",descricao:"Exportar log de atividades"},{valor:"relatorio-completo",label:"\uD83D\uDCCA Relat\xf3rio Completo",descricao:"Exportar todos os dados"}],j=[{valor:"csv",label:"CSV",icone:"\uD83D\uDCC4",descricao:"Arquivo CSV (Excel, Google Sheets)"},{valor:"json",label:"JSON",icone:"\uD83D\uDCCB",descricao:"Formato JSON para desenvolvedores"},{valor:"excel",label:"Excel",icone:"\uD83D\uDCCA",descricao:"Arquivo Excel (.xlsx)"}],v=async()=>{m(!0),h({tipo:"",texto:""});try{let a=localStorage.getItem("token");if(!a){e.push("/login");return}let t=new URLSearchParams({tipo:s,formato:o,...n}),r=await fetch(`/api/exportar?${t}`,{headers:{Authorization:`Bearer ${a}`}});if(!r.ok)throw Error("Erro ao exportar dados");let l=await r.blob(),i=o;"excel"===o&&(i="xlsx");let d=`${s}_${new Date().toISOString().split("T")[0]}.${i}`,c=window.URL.createObjectURL(l),x=document.createElement("a");x.href=c,x.download=d,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(c),document.body.removeChild(x),h({tipo:"sucesso",texto:`Dados exportados com sucesso! Download iniciado: ${d}`});let m={id:Date.now(),tipo:s,formato:o,arquivo:d,data:new Date().toISOString()};g([m,...p])}catch(e){console.error("Erro ao exportar:",e),h({tipo:"erro",texto:"Erro ao exportar dados. Tente novamente."})}finally{m(!1)}},N=b.find(e=>e.valor===s),f=j.find(e=>e.valor===o);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(i.default,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:"← Voltar"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDCE5 Exportar Dados"})]})})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.texto&&t.jsx("div",{className:`mb-6 p-4 rounded-lg ${"sucesso"===u.tipo?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl",children:"sucesso"===u.tipo?"✅":"❌"}),t.jsx("span",{children:u.texto})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"1️⃣ Selecione o Tipo de Dados"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:b.map(e=>(0,t.jsxs)("button",{onClick:()=>a(e.valor),className:`p-4 rounded-lg border-2 text-left transition-all ${s===e.valor?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:e.label}),t.jsx("div",{className:"text-sm text-gray-600",children:e.descricao})]},e.valor))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"2️⃣ Selecione o Formato"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:j.map(e=>(0,t.jsxs)("button",{onClick:()=>d(e.valor),className:`p-4 rounded-lg border-2 text-center transition-all ${o===e.valor?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:e.icone}),t.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:e.label}),t.jsx("div",{className:"text-xs text-gray-600",children:e.descricao})]},e.valor))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"3️⃣ Filtros (Opcional)"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data In\xedcio"}),t.jsx("input",{type:"date",value:n.dataInicio,onChange:e=>c({...n,dataInicio:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),t.jsx("input",{type:"date",value:n.dataFim,onChange:e=>c({...n,dataFim:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),("clientes"===s||"leads"===s)&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,t.jsxs)("select",{value:n.status,onChange:e=>c({...n,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[t.jsx("option",{value:"todos",children:"Todos"}),t.jsx("option",{value:"ativo",children:"Apenas Ativos"}),t.jsx("option",{value:"inativo",children:"Apenas Inativos"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.incluirInativos,onChange:e=>c({...n,incluirInativos:e.target.checked}),className:"w-4 h-4 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Incluir registros inativos"})]})]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsx("button",{onClick:v,disabled:x,className:"w-full px-6 py-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-semibold text-lg transition-colors",children:x?(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Exportando..."]}):(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:["\uD83D\uDCE5 Exportar ",N?.label]})})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\uD83D\uDCCB Resumo"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-2xl",children:N?.label.split(" ")[0]}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Tipo de Dados"}),t.jsx("p",{className:"text-sm text-gray-600",children:N?.label})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-2xl",children:f?.icone}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Formato"}),t.jsx("p",{className:"text-sm text-gray-600",children:f?.label})]})]}),(n.dataInicio||n.dataFim)&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-2xl",children:"\uD83D\uDCC5"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Per\xedodo"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[n.dataInicio&&new Date(n.dataInicio).toLocaleDateString("pt-BR"),n.dataInicio&&n.dataFim&&" - ",n.dataFim&&new Date(n.dataFim).toLocaleDateString("pt-BR")]})]})]})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-xl",children:"ℹ️"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Dica"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Os arquivos CSV podem ser abertos no Excel, Google Sheets ou qualquer editor de planilhas."})]})]})}),p.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\uD83D\uDCDC Hist\xf3rico"}),t.jsx("div",{className:"space-y-3",children:p.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.arquivo}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:new Date(e.data).toLocaleString("pt-BR")})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\uD83D\uDCCA Estat\xedsticas"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Exporta\xe7\xf5es hoje"}),t.jsx("span",{className:"font-semibold text-gray-900",children:p.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Formato mais usado"}),t.jsx("span",{className:"font-semibold text-gray-900",children:"CSV"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\uD83D\uDCD6 Como Usar"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-3xl mb-2",children:"1️⃣"}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Escolha os Dados"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Selecione o tipo de dados que deseja exportar: clientes, leads, vendas, etc."})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-3xl mb-2",children:"2️⃣"}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Selecione o Formato"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Escolha entre CSV (Excel), JSON (desenvolvedores) ou Excel (.xlsx)."})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-3xl mb-2",children:"3️⃣"}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Aplique Filtros"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Opcionalmente, filtre por per\xedodo, status ou outras op\xe7\xf5es dispon\xedveis."})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\uD83D\uDCC4 Formatos Suportados"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"text-3xl mb-2",children:"\uD83D\uDCC4"}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"CSV"}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Formato universal compat\xedvel com Excel, Google Sheets e outras planilhas."}),(0,t.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[t.jsx("li",{children:"✓ F\xe1cil de importar"}),t.jsx("li",{children:"✓ Tamanho reduzido"}),t.jsx("li",{children:"✓ Compat\xedvel com tudo"})]})]}),(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCB"}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"JSON"}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Formato estruturado ideal para desenvolvedores e integra\xe7\xf5es."}),(0,t.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[t.jsx("li",{children:"✓ Estrutura completa"}),t.jsx("li",{children:"✓ F\xe1cil de processar"}),t.jsx("li",{children:"✓ Para APIs"})]})]}),(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCA"}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Excel (.xlsx)"}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arquivo Excel nativo com formata\xe7\xe3o e m\xfaltiplas planilhas."}),(0,t.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[t.jsx("li",{children:"✓ Formata\xe7\xe3o rica"}),t.jsx("li",{children:"✓ M\xfaltiplas abas"}),t.jsx("li",{children:"✓ Gr\xe1ficos inclusos"})]})]})]})]})]})]})}},685:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var t=a(326),r=a(7577);function l({children:e}){let[s,a]=(0,r.useState)(!0);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/Sidebar'");throw e.code="MODULE_NOT_FOUND",e}()),{isOpen:s,setIsOpen:a}),(0,t.jsxs)("div",{className:`transition-all duration-300 ${s?"ml-64":"ml-20"}`,children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/Header'");throw e.code="MODULE_NOT_FOUND",e}()),{toggleSidebar:()=>a(!s)}),t.jsx("main",{className:"p-6",children:e})]})]})}(function(){var e=Error("Cannot find module '@/components/layout/Sidebar'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/layout/Header'");throw e.code="MODULE_NOT_FOUND",e}()},5047:(e,s,a)=>{"use strict";var t=a(7389);a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},7119:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\luisc\Documents\PROJETOS\crm-sistema\app\dashboard\exportar\page.js#default`)},3477:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\luisc\Documents\PROJETOS\crm-sistema\app\dashboard\layout.js#default`)},7764:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l,metadata:()=>r});var t=a(9510);a(7272);let r={title:"CRM Sistema",description:"Sistema de CRM completo com Next.js e Firebase"};function l({children:e}){return t.jsx("html",{lang:"pt-BR",suppressHydrationWarning:!0,children:t.jsx("body",{className:"bg-gray-50 antialiased",suppressHydrationWarning:!0,children:e})})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[9276,4471,434],()=>a(4161));module.exports=t})();