(()=>{var e={};e.id=3995,e.ids=[3995],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},562:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(6985),t(3477),t(7764),t(5866);var r=t(3191),s=t(8716),i=t(7922),n=t.n(i),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(a,l);let d=["",{children:["dashboard",{children:["tarefas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6985)),"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\dashboard\\tarefas\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3477)),"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\dashboard\\layout.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7764)),"C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\luisc\\Documents\\PROJETOS\\crm-sistema\\app\\dashboard\\tarefas\\page.js"],u="/dashboard/tarefas/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/tarefas/page",pathname:"/dashboard/tarefas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5016:(e,a,t)=>{Promise.resolve().then(t.bind(t,685))},224:(e,a,t)=>{Promise.resolve().then(t.bind(t,9355))},5453:()=>{},3603:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},685:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(326),s=t(7577);function i({children:e}){let[a,t]=(0,s.useState)(!0);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/Sidebar'");throw e.code="MODULE_NOT_FOUND",e}()),{isOpen:a,setIsOpen:t}),(0,r.jsxs)("div",{className:`transition-all duration-300 ${a?"ml-64":"ml-20"}`,children:[r.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/Header'");throw e.code="MODULE_NOT_FOUND",e}()),{toggleSidebar:()=>t(!a)}),r.jsx("main",{className:"p-6",children:e})]})]})}(function(){var e=Error("Cannot find module '@/components/layout/Sidebar'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/layout/Header'");throw e.code="MODULE_NOT_FOUND",e}()},9355:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var r=t(326),s=t(7577),i=t(5047),n=t(434);function o(){let e=(0,i.useRouter)(),[a,t]=(0,s.useState)([]),[o,l]=(0,s.useState)("todas"),[d,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!0),[x,g]=(0,s.useState)({titulo:"",descricao:"",dataVencimento:"",prioridade:"media",tipo:"geral"}),h=async()=>{try{let a=localStorage.getItem("token");if(!a){e.push("/login");return}let r="todas"===o?"/api/tarefas":`/api/tarefas?status=${o}`,s=await fetch(r,{headers:{Authorization:`Bearer ${a}`}}),i=await s.json();i.sucesso&&t(i.tarefas)}catch(e){console.error("Erro ao carregar tarefas:",e)}finally{m(!1)}},p=async e=>{e.preventDefault();try{let e=localStorage.getItem("token"),a=await fetch("/api/tarefas",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(x)});(await a.json()).sucesso&&(c(!1),g({titulo:"",descricao:"",dataVencimento:"",prioridade:"media",tipo:"geral"}),h())}catch(e){console.error("Erro ao criar tarefa:",e)}},b=async e=>{try{let a=localStorage.getItem("token");await fetch(`/api/tarefas/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({status:"concluida"})}),h()}catch(e){console.error("Erro ao concluir tarefa:",e)}},f=async e=>{if(confirm("Deseja realmente excluir esta tarefa?"))try{let a=localStorage.getItem("token");await fetch(`/api/tarefas/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),h()}catch(e){console.error("Erro ao excluir tarefa:",e)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.default,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:"← Voltar"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"✅ Tarefas"})]}),r.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"+ Nova Tarefa"})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>l("todas"),className:`px-4 py-2 rounded-lg ${"todas"===o?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),r.jsx("button",{onClick:()=>l("pendente"),className:`px-4 py-2 rounded-lg ${"pendente"===o?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pendentes"}),r.jsx("button",{onClick:()=>l("concluida"),className:`px-4 py-2 rounded-lg ${"concluida"===o?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Conclu\xeddas"})]})}),u?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando tarefas..."})]}):0===a.length?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"Nenhuma tarefa encontrada"})}):r.jsx("div",{className:"space-y-4",children:a.map(e=>r.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.titulo}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"alta"===e.prioridade?"bg-red-100 text-red-700":"media"===e.prioridade?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:e.prioridade}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"concluida"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status})]}),e.descricao&&r.jsx("p",{className:"text-gray-600 mb-2",children:e.descricao}),e.dataVencimento&&(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Vence em: ",new Date(e.dataVencimento).toLocaleDateString("pt-BR")]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:["concluida"!==e.status&&r.jsx("button",{onClick:()=>b(e.id),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"✓ Concluir"}),r.jsx("button",{onClick:()=>f(e.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"\uD83D\uDDD1️ Excluir"})]})]})},e.id))})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Nova Tarefa"}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo *"}),r.jsx("input",{type:"text",required:!0,value:x.titulo,onChange:e=>g({...x,titulo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),r.jsx("textarea",{value:x.descricao,onChange:e=>g({...x,descricao:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Vencimento"}),r.jsx("input",{type:"date",value:x.dataVencimento,onChange:e=>g({...x,dataVencimento:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),(0,r.jsxs)("select",{value:x.prioridade,onChange:e=>g({...x,prioridade:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"baixa",children:"Baixa"}),r.jsx("option",{value:"media",children:"M\xe9dia"}),r.jsx("option",{value:"alta",children:"Alta"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Criar Tarefa"}),r.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]})})]})}},5047:(e,a,t)=>{"use strict";var r=t(7389);t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},3477:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\luisc\Documents\PROJETOS\crm-sistema\app\dashboard\layout.js#default`)},6985:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\luisc\Documents\PROJETOS\crm-sistema\app\dashboard\tarefas\page.js#default`)},7764:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,metadata:()=>s});var r=t(9510);t(7272);let s={title:"CRM Sistema",description:"Sistema de CRM completo com Next.js e Firebase"};function i({children:e}){return r.jsx("html",{lang:"pt-BR",suppressHydrationWarning:!0,children:r.jsx("body",{className:"bg-gray-50 antialiased",suppressHydrationWarning:!0,children:e})})}},7272:()=>{}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[9276,4471,434],()=>t(562));module.exports=r})();